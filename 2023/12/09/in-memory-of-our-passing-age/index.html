
<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="utf-8" />
    <title>追忆似水年华 | Vanadium的小屋</title>
    <meta name="author" content="Vanadium" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://cdn.staticfile.org" />
<script src="https://cdn.staticfile.org/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdn.staticfile.org/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>VANADIUM的小屋</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;主页</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;关于</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;归档</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-screwdriver-wrench fa-fw"></i>
            <span>&ensp;工具</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;标签</span>
        </a>
        
        <a href="/songs">
            <i class="fa-brands fa-itunes-note fa-fw"></i>
            <span>&ensp;音乐</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;VANADIUM的小屋</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">主页</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">关于</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">归档</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-screwdriver-wrench fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">工具</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">标签</div>
                    </div>
                </a>
                
                <a href="/songs">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-brands fa-itunes-note fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">音乐</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>
        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            

<!--card-->
<div id="home-card-in-post">    
    <div id="home-card">
    <div id="card-style" style="max-height: 75vh;">
    <div id="card-div">
        <div class="avatar">
            <img src="/images/avatar.jpg" alt="avatar" />
        </div>
        <div class="name" style="font-size:x-large;"><b>Vanadium</b></div>
        <div class="description">
            <p>ZJUer | Freshman | IS | 术力口 | 摸鱼 | OP</p>

        </div>
        
        

        <div class="friend-links">
            <div class="name"><b>Vanadium常用网址</b></div>
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://katex.org/docs/supported#math-operators">KateX手册</a>
            </div>
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://stackedit.io/app#">StackEdit</a>
            </div>
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/css-selectors.html">CSS手册</a>
            </div>            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://www.runoob.com/markdown/md-tutorial.html">Markdown手册</a>
            </div>            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://fontawesome.com/">Font Awesome 6</a>
            </div>            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://md.qikqiak.com/">Markdown-微信公众号</a>
            </div>            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="http://116.62.147.239:18080/">在线VSCode | 感恩洪神的无私分享</a>
            </div>
        </div>


        <!--music player
        <div class="friend-links">
            <iframe seamless="seamless" width="300px" id="card" src="//music.163.com/outchain/player?type=2&id=29751583&auto=1&height=66" frameborder="no"></iframe>
        </div>-->
    </div>
    
    
    
</div>



    </div>
</div>

<!--end-->

<div class="article">
    <div>
        <h1>追忆似水年华</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/12/9
        </span>
        
           
            <!--展示tags-->
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/C-C/" style="color: #03a9f4">C/C++</a>
            </span>
            
        </span>
        
    </div>
      
        <!--展示page的完整内容-->
    <div class="content" v-pre>
        <blockquote>
<p>「人类毕生都在与时间抗争。他们本想执著地眷恋一个爱人、一位友人、某些信念；遗忘从冥冥之中慢慢升起，淹没他们最美丽、最宝贵的记忆。」<br>——安德烈·莫罗亚《追忆似水年华·序》</p>
</blockquote>
<span id="more"></span>

<p>在漫长的人生旅程中，总有一些美好的画面值得我们永远留存心中。而有了数码相机，定格这些珍贵的回忆便不成问题。为了留下回忆，Pac 每年都会拍下许多的照片，但这次她在整理老照片的时候发现照片已经太多了，令她在想寻找特定的照片时总要花上一番功夫。</p>
<p>Pac 知道利用大数据算法一定可以解决她的问题，于是她找到了一种叫 <strong>Dhash</strong> 的感知哈希技术。该技术可以生成图片的 Locality Sensitive 的哈希值，从而让她可以方便地计算图片的相似度，并使得她可以进一步运用图像搜索技术找到想要的图片。但是 Pac 不太擅长编程，于是她找到了你来帮她实现 Dhash 算法。</p>
<p>具体来说，我们用一个 n×m 的灰度矩阵 A 表示一张图片（灰度矩阵是对于任意元素 $a_{i,j}$ 有 0≤ $a_{i,j}$ ≤255 的矩阵），并采用如下步骤将该矩阵变为一个 64 位的整数：</p>
<ul>
<li>将矩阵缩放到 8×9，缩放后每个元素的值是它在原矩阵对应的子矩阵中所有元素的平均值（<strong>向下取整</strong>）。</li>
<li>将上面得到的矩阵变为一个 8×8 的 01 矩阵。我们从第二列开始考虑矩阵（第一列舍去），若矩阵元素大于左边的值，就在新矩阵中将其值定为 1，否则定为 0。</li>
<li>将最终得到的矩阵按从左往右，从上到下的方法写成一个 64 位二进制数。 请以十六进制形式输出所得的 64 位整数。</li>
</ul>
<h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式:"></a>输入格式:</h4><p>输入第一行包含两个正整数 n,m。 接下 n 行，每行 m 个正整数，其中第 i 行第 j 列表示矩阵中 $a_{i,j}$ 的值。</p>
<h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式:"></a>输出格式:</h4><p>输出共一行 16 进制字符串。</p>
<h4 id="样例"><a href="#样例" class="headerlink" title="样例:"></a>样例:</h4><p><strong>输入样例 1</strong></p>
<pre><code>8 9
94 195 59 151 210 162 113 163 26 
100 234 177 102 246 66 127 39 159 
63 56 28 15 210 222 187 100 128 
94 113 212 216 106 251 3 108 225 
99 254 139 129 225 234 54 214 227 
243 197 8 205 160 180 158 22 184 
55 2 89 15 46 25 9 115 195 
29 4 210 180 205 95 234 168 97 
</code></pre>
<p><strong>输出样例 1</strong></p>
<pre><code>B29519EB9B295354
</code></pre>
<p><strong>输入样例 2</strong></p>
<pre><code>8 9
29 250 5 244 198 140 30 137 242 
136 54 213 181 203 24 49 176 86 
137 38 27 235 174 83 192 203 122 
206 43 181 45 32 213 206 49 134 
154 81 96 237 225 124 196 7 177 
0 86 150 59 199 18 38 95 26 
1 149 7 150 101 18 109 172 179 
152 164 99 108 52 128 253 118 21 
</code></pre>
<p><strong>输出样例 2</strong></p>
<pre><code>A356264965D6A7AC
</code></pre>
<h4 id="数据范围"><a href="#数据范围" class="headerlink" title="数据范围"></a>数据范围</h4><p>对于所有数据 8≤n≤1000,9≤m≤999，其中 n 是 8 的倍数，m 是 9 的倍数。</p>
<pre><code>代码长度限制                    16 KB
时间限制                        1000 ms
内存限制                        512 MB
</code></pre>
<h4 id="解题过程"><a href="#解题过程" class="headerlink" title="解题过程"></a>解题过程</h4><p>一定要注意数据范围的 n ，m 存在的限制，不然题目中的子矩阵根本没法对应，注意到之后就暴力模拟，即可AC</p>
<pre><code class="c++">#include&lt;bits/stdc++.h&gt;
using namespace std;
int matrix[1005][1005],a[10][10];
int pm,pn;
int cal(int n,int m)&#123;
    int sum = 0;
    for(int i=n;i&lt;n+pn;++i)&#123;
        for(int j=m;j&lt;m+pm;++j)&#123;
            sum+=matrix[i][j];
        &#125;
    &#125;
    return floor( sum*1.0 / (pn*pm) );
&#125;

void coutchar(int i, int start, int end)&#123;
    int sum = 0;
    for(int k=start;k&lt;=end;++k)&#123;
        sum = sum*2 + a[i][k];
    &#125;
    if(sum&lt;10)  cout&lt;&lt;sum;
    else    cout&lt;&lt;char(sum-10+&#39;A&#39;);
    return;
&#125;

int main()&#123;
    int m,n;
    cin&gt;&gt;n&gt;&gt;m;
    pm = m/8;
    pn = n/8;
    for(int i=0;i&lt;n;++i)&#123;
        for(int j=0;j&lt;m;++j)&#123;
            cin&gt;&gt;matrix[i][j];
        &#125;
    &#125;
    for(int i=0;i&lt;8;++i)&#123;
        for(int j=0;j&lt;9;++j)&#123;
            a[i][j] = cal(i*pn,j*pm);
        &#125;
    &#125;
    for(int i=7;i&gt;=0;--i)&#123;
        for(int j=8;j&gt;0;--j)&#123;
            a[i][j] = a[i][j]&gt;a[i][j-1]? 1:0;
        &#125;
    &#125;
    for(int i=0;i&lt;8;++i)&#123;
        coutchar(i,1,4);
        coutchar(i,5,8);
    &#125;
    cout&lt;&lt;&#39;\n&#39;;
&#125;
</code></pre>

    </div>




    

<!--friendlinks-->




<!--end-->

    
    
    
    
    
    


</div>

<!--
<div id="card-style">
<div id="card-div">
    <div class="avatar">
        <img src="/images/avatar.jpg" alt="avatar" />
    </div>
    <div class="name">Vanadium</div>
    <div class="description">
        <p>ZJUer | Freshman | IS | 术力口 | 摸鱼 | OP</p>

    </div>
    
    

    <div class="friend-links">
        <div class="name">Vanadium常用网址</div>
        <div class="friend-link">
            <a target="_blank" rel="noopener" href="https://katex.org/docs/supported#math-operators">KateX手册</a>
        </div>
        <div class="friend-link">
            <a target="_blank" rel="noopener" href="https://www.runoob.com/cssref/css-selectors.html">CSS手册</a>
        </div>            
        <div class="friend-link">
            <a target="_blank" rel="noopener" href="https://www.runoob.com/markdown/md-tutorial.html">Markdown手册</a>
        </div>
    </div>
</div>
</div>
-->
            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2023 Vanadium的小屋
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;Vanadium
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>


    <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
    <script>
        var now = new Date(); 
        function createtime() { 
            var grt= new Date("09/26/2023 17:38:00");//在此处修改你的建站时间，格式：月/日/年 时:分:秒
            now.setTime(now.getTime()+250); 
            days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
            hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
            if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
            mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
            seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
            snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
            document.getElementById("timeDate").innerHTML = "本站已经存活 "+dnum+" 天 "; 
            document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
        } 
    setInterval("createtime()",250);
    </script>

</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    


    <!-- 一言API -->
    <!-- 现代写法，推荐 -->
    <script>
        fetch('https://v1.hitokoto.cn')
            .then(function (res){
            return res.json();
            })
            .then(function (data) {
            var hitokoto = document.getElementById('hitokoto');
            hitokoto.innerText = data.hitokoto + '——【' + data.from + '】';
            })
            .catch(function (err) {
            console.error(err);
            })
        </script>

</body>
</html>
