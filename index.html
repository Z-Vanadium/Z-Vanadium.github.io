<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Vanadium的小屋</title><meta name="author" content="Vanadium"><meta name="copyright" content="Vanadium"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Vanadium的小屋">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Vanadium的小屋">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg">
<meta property="article:author" content="Vanadium">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg"><link rel="shortcut icon" href="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg"><link rel="canonical" href="http://example.com/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vanadium的小屋',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-04-07 09:59:29'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">30</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-gamepad"></i><span> Games</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/finddiffcolor/"><i class="fa-fw fas fa-puzzle-piece"></i><span> FindDiffColor</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-share-nodes"></i><span> Share</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/chishenme/"><i class="fa-fw fas fa-utensils"></i><span> What2Eat</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fas fa-music"></i><span> Songs</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-newspaper"></i><span> Posts</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/categories/%E7%AC%94%E8%AE%B0/"><i class="fa-fw fas fa-note-sticky"></i><span> Notes</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://www.imageoss.com/images/2024/03/27/background86e3a6ceb1c5d968.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Vanadium的小屋"><span class="site-name">Vanadium的小屋</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-gamepad"></i><span> Games</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/finddiffcolor/"><i class="fa-fw fas fa-puzzle-piece"></i><span> FindDiffColor</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-share-nodes"></i><span> Share</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/chishenme/"><i class="fa-fw fas fa-utensils"></i><span> What2Eat</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fas fa-music"></i><span> Songs</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-newspaper"></i><span> Posts</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/categories/%E7%AC%94%E8%AE%B0/"><i class="fa-fw fas fa-note-sticky"></i><span> Notes</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Vanadium的小屋</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/3939/03/09/bulletin-board/" title="Vanadium的小屋御用公告板"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/ecd03c4f60ac9cb6c2c13a399822fa2b0ff86b444b67bf191451102b.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vanadium的小屋御用公告板"></a></div><div class="recent-post-info"><a class="article-title" href="/3939/03/09/bulletin-board/" title="Vanadium的小屋御用公告板">Vanadium的小屋御用公告板</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="3939-03-08T19:09:39.000Z" title="发表于 3939-03-09 03:09:39">3939-03-09</time></span></div><div class="content">暂时关闭评论系统
由于博客代码重构, 评论系统暂时关闭, 如有联系需要请参考 关于
2024/03/25 by Vanadium

博客图片迁移
由于之前拿 Github 做图床, 访问时的速度受到极大限制, 现准备逐渐迁移图片到 ImageOss
2024/03/21 by Vanadium

 
 小屋评论系统测试版上线:D
评论系统基于Waline, 部署在leancloud(国际版), 有什么问题都和我没关系(才怪啊喂)
测试版的评论系统有以下特性:

需要登录(建议使用: github)
显示ip, 浏览器, 操作系统(后期可能隐藏)
评论框样式不符合小屋整体风格(烤柿粥后必改, 目前没空QwQ)

此外就没有什么好说的啦, 评论区可以自♂由讨论当然我也可以自♂由删评(拽)
2024/01/10 by Vanadium
 

 祝各位元旦快乐, 快乐元旦!

东风夜放花千树。更吹落、星如雨。宝马雕车香满路。凤箫声动，玉壶光转，一夜鱼龙舞。
蛾儿雪柳黄金缕。笑语盈盈暗香去。众里寻他千百度。蓦然回首，那人却在，灯火阑珊处。
[宋]辛弃疾&lt;青玉案 元夕&gt;

2023/1 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/04/06/cpp-fmt-and-print-lib/" title="C++ | Formatting &amp; Print Library"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/a113ac80a243cc8deec334e924038d35e1357bd83855d7e0bd37b9ac.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ | Formatting &amp; Print Library"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/06/cpp-fmt-and-print-lib/" title="C++ | Formatting &amp; Print Library">C++ | Formatting &amp; Print Library</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-06T09:42:33.000Z" title="发表于 2024-04-06 17:42:33">2024-04-06</time></span></div><div class="content">
本文仍为草稿

前言
Formatting &amp; Print 库(fmt库)是一个可以高效且安全地将 C 标准输入输出库转化为 C++ 输入输出流的现代 C++ 库(C++20 出现, C++23 加入标准库)
相比之前废拉不堪的输入输出函数, Formatting &amp; Print 库有如下特性:

更快
更便捷
类型安全

由于目前大多数编译器并没有实现对 C++23 中 print 库的支持, 我们依然使用 C++20 的 fmt 库演示格式化与输出操作

PTA 的 C++ 编译器为 gcc 11.4.0, 只支持到 C++17, 所以在 PTA 平台上用不了这么好用的东西

 
前期准备
由于 fmt 库不存在于 C++20 的标准库中, 所以我们要手动引入
VSCode with mingw


首先, 删除.vscode配置文件, 在 IDE 界面按下 F5 查看 VSCode 使用的编译器的路径



在任意空文件夹下运行下面的 git 命令获取 fmt 库
 git clone https://github.com/fmtlib/fmt.git


将获 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/04/03/cpp-fctn-object-and-lambda-fctn/" title="C++ | 函数对象 &amp; 匿名函数"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/u457692666706638556fm253fmtautoapp120fJPEG5366d0caa33e706a.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ | 函数对象 &amp; 匿名函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/03/cpp-fctn-object-and-lambda-fctn/" title="C++ | 函数对象 &amp; 匿名函数">C++ | 函数对象 &amp; 匿名函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-03T03:27:08.000Z" title="发表于 2024-04-03 11:27:08">2024-04-03</time></span></div><div class="content">
本文仍为草稿


在 C++ | STL III 的最后, 我们曾简单地谈到了函数对象和匿名函数

函数对象
众所周知, C++ 出现的一个主要目的就是实现面向对象程序设计(Object-Oriented Program), 在先前的三篇有关 STL 的文章中我们详细讨论了什么是对象, 实际上, 早在 C++98 时代, C++ 中的对象的概念就不止限定在类或结构体上面, 函数也可以是 “对象”
C++98 提供了有关函数对象的库 &lt;functional&gt;, 引入这个库
#include&lt;functional&gt;
这个库提供了很多基础的预定义函数对象, 帮助库 &lt;algorithm&gt; 中算法的实现, 包括了内置函数对象, 谓词等
 
内置函数对象
下面是一个实例, 我们用类型 int 实例化了加减乘除和取模五种运算函数, 调用这些运算函数对象, 和直接使用运算符并没有差别, 但是这种写法更加符合 “泛型” 的概念–即我们可以对不同的对象使用一样的函数, 达到各自的效果
int main()&#123;    auto _plus = std::plu ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/03/30/cpp-inherit/" title="C++ | 继承"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/v2-334cc816fbe737fd332d1f9e6ecec3cf_r28744eb27865ab1e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ | 继承"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/30/cpp-inherit/" title="C++ | 继承">C++ | 继承</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-30T06:06:13.000Z" title="发表于 2024-03-30 14:06:13">2024-03-30</time></span></div><div class="content">
这是 C++ 网课学习笔记

 
继承与 hiding
回顾之前给出的代码示例
class Shape &#123;       // 基类 Shapeprivate:    void prepare()  &#123; /* 做一些准备（例如准备画笔）*/ &#125;     void finalize() &#123; /* 做一些后续处理（例如重置画笔）*/ &#125;public:    Point center;   // 共有的成员变量    void draw() &#123;   // 共有的成员函数        prepare();        do_draw();        finalize();    &#125;    virtual void do_draw() = 0; // 要求所有派生类都实现 do_draw()&#125;;class Circle : public Shape &#123;   // Circle 继承 Shapepublic:    int radius;     // 独有的成员变量    void do_draw( ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/03/27/info-security-principles-index/" title="信息安全原理与数学基础"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/e7cd7b899e510fb368383107d533c895d1430c787b07c8e89c591cb1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信息安全原理与数学基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/27/info-security-principles-index/" title="信息安全原理与数学基础">信息安全原理与数学基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T11:01:18.000Z" title="发表于 2024-03-27 19:01:18">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">基本信息
 授课教师：zbs
信息安全原理(不做考试要求)
数理逻辑
集合论
概率论
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/03/27/fds-index/" title="数据结构基础"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/u4112399949772045700fm253fmtautoapp138fJPEG44159c9564bc0bb8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据结构基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/27/fds-index/" title="数据结构基础">数据结构基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T10:57:07.000Z" title="发表于 2024-03-27 18:57:07">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">Basic Infomation
 Teachers: yzq
 See Also: Foreverhyx’s FDS notes
Introduction
Algorithm Analysis
Linear Table
Tree
Heap
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/03/27/computer-system-1-index/" title="计算机系统I"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/srchttp___c-ssl.duitang.com_uploads_item_201808_31_20180831194410_nFUxH.pngreferhttp___c-ssl.duitang36b656c70b11e82e.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机系统I"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/27/computer-system-1-index/" title="计算机系统I">计算机系统I</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T10:40:44.000Z" title="发表于 2024-03-27 18:40:44">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">Basic Infomation
 Teachers: wht, ll
 Lab Docs: 浙江大学24年春夏系统贯通一实验( ZJU intranet required )

Because of some reasons, Chapter 04 should change position with Chapter 05

Index



Tittle
Chap(s)




Introduction
01


Binary Representation
02, 03, 05


Digital Logic
04, 06, 07, 08


Combinational Logic Design
09, 10



Introduction
Binary Representation
Digital Logic
Combinational Logic Design
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/03/27/calculus-2-index/" title="微积分II"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/210210111433-6-1200ae4d7bd8cb5bc608.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="微积分II"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/27/calculus-2-index/" title="微积分II">微积分II</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-27T10:31:05.000Z" title="发表于 2024-03-27 18:31:05">2024-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></span></div><div class="content">
微积分好难

基本信息
 授课教师： bwh
 上课教材： 《微积分》（sdk版）
常见积分公式

第 11 章 级数
第 7 章 矢量代数与空间解析几何
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/03/24/cpp-smart-pointer/" title="C++ | 智能指针"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/29/srchttp___c-ssl.duitang.com_uploads_blog_202010_06_20201006081139_2044e.thumb.1000_0.pngreferhttp___c-ssl.duitangf6b6c98ed62c7826.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ | 智能指针"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/24/cpp-smart-pointer/" title="C++ | 智能指针">C++ | 智能指针</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-24T08:26:27.000Z" title="发表于 2024-03-24 16:26:27">2024-03-24</time></span></div><div class="content">
这是 C++ 网课学习笔记
建议先阅读上一节 右值引用 &amp; 移动语义 或对内容有一定了解后再来阅读本篇笔记



 
1 引入: 为什么我们需要智能指针
1.1 问题一
观察以下代码
void science(double* data, int N) &#123;    double* temp = new double[N*2];    do_setup(data, temp, N);    if (!needed(data, temp, N))        return;    calculate(data, temp, N);    delete[] temp;&#125;
不难理解, 函数 science() 接受两个参数, 一个表示数组 data 的首元素地址, 一个表示数组的长度
这说明了一个数组类型包含了三个信息: 数组元素类型, 首元素地址和长度; 然而当我们把数组作为指针传入时, 我们却丧失了长度这个信息, 只能用一个额外的 N 储存这个信息
回到函数体本身, 这个函数实现的功能很简单, 假如 needed() 为真, 则对 data 调用 calcula ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/03/20/cpp-lvalue-and-rvalue/" title="C++ | 右值引用 &amp; 移动语义"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/29/0eb30f2442a7d933f5ba56244620eb1572f001ccd7088b564c189099.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ | 右值引用 &amp; 移动语义"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/03/20/cpp-lvalue-and-rvalue/" title="C++ | 右值引用 &amp; 移动语义">C++ | 右值引用 &amp; 移动语义</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-03-20T05:18:36.000Z" title="发表于 2024-03-20 13:18:36">2024-03-20</time></span></div><div class="content">
这是 cpp 网课学习笔记



 
左值和右值
引入
考虑这样一段代码
int n;n = 1;1 = n;
对于这段代码, 我们不难理解这是错误, 但是当我们思考错误的原因, 可以发现这并不简单

为什么 1 = n; 会报错而 n = 1; 却是合法的呢?



观察编译器给出的报错提示 表达式必须是可修改的左值, 一个全新的概念出现了–左值(lvalue)
 
表达式的值的类型
与 1 = n; 类似的语句还有很多, 例如 int foo(); foo() = 3;, int m; m + 3 = 4; 等等, 这些语句的出现似乎在提示我们一个很简单的道理, 一个你的 C 语言启蒙老师大概率和你讲过的话:

C 语言里面的表达式不是方程

正因如此, 我们就能理解下面这句话了
即便变量类型相同, 依然存在某些表达式是不能被赋值的
那么那些无法赋值的表达式到底有什么特征呢?
很简单, n 表征一个对象, 在物理意义上表征着内存中的某一块; 而 1 不表征一个实在的对象, 也就是说, 他表征着一个不与对象关联的值, 也就是字面量
回到形如 foo() = 3;, m + 3 =  ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Vanadium</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">30</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Z-Vanadium"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Welcome to Vanadium's Blog!<br>
ZJUer | Freshman | IS | 术力口 | 摸鱼 | OP
</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/3939/03/09/bulletin-board/" title="Vanadium的小屋御用公告板">Vanadium的小屋御用公告板</a><time datetime="3939-03-08T19:09:39.000Z" title="发表于 3939-03-09 03:09:39">3939-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/06/cpp-fmt-and-print-lib/" title="C++ | Formatting &amp; Print Library">C++ | Formatting &amp; Print Library</a><time datetime="2024-04-06T09:42:33.000Z" title="发表于 2024-04-06 17:42:33">2024-04-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/03/cpp-fctn-object-and-lambda-fctn/" title="C++ | 函数对象 &amp; 匿名函数">C++ | 函数对象 &amp; 匿名函数</a><time datetime="2024-04-03T03:27:08.000Z" title="发表于 2024-04-03 11:27:08">2024-04-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/30/cpp-inherit/" title="C++ | 继承">C++ | 继承</a><time datetime="2024-03-30T06:06:13.000Z" title="发表于 2024-03-30 14:06:13">2024-03-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/27/info-security-principles-index/" title="信息安全原理与数学基础">信息安全原理与数学基础</a><time datetime="2024-03-27T11:01:18.000Z" title="发表于 2024-03-27 19:01:18">2024-03-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/27/fds-index/" title="数据结构基础">数据结构基础</a><time datetime="2024-03-27T10:57:07.000Z" title="发表于 2024-03-27 18:57:07">2024-03-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/27/computer-system-1-index/" title="计算机系统I">计算机系统I</a><time datetime="2024-03-27T10:40:44.000Z" title="发表于 2024-03-27 18:40:44">2024-03-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/27/calculus-2-index/" title="微积分II">微积分II</a><time datetime="2024-03-27T10:31:05.000Z" title="发表于 2024-03-27 18:31:05">2024-03-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/24/cpp-smart-pointer/" title="C++ | 智能指针">C++ | 智能指针</a><time datetime="2024-03-24T08:26:27.000Z" title="发表于 2024-03-24 16:26:27">2024-03-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/20/cpp-lvalue-and-rvalue/" title="C++ | 右值引用 &amp; 移动语义">C++ | 右值引用 &amp; 移动语义</a><time datetime="2024-03-20T05:18:36.000Z" title="发表于 2024-03-20 13:18:36">2024-03-20</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AE%9E%E7%94%A8/"><span class="card-category-list-name">实用</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%B8%B8%E6%88%8F/"><span class="card-category-list-name">游戏</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">笔记</span><span class="card-category-list-count">5</span></a></li>
            </ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">30</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2023-09-25T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">73.9k</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-04-07T01:59:28.642Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By Vanadium</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>