<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Vanadium的小屋</title><meta name="author" content="Vanadium"><meta name="copyright" content="Vanadium"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Vanadium的小屋">
<meta property="og:url" content="http://z-vanadium.github.io/page/2/index.html">
<meta property="og:site_name" content="Vanadium的小屋">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg">
<meta property="article:author" content="Vanadium">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg"><link rel="shortcut icon" href="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg"><link rel="canonical" href="http://z-vanadium.github.io/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vanadium的小屋',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-11-19 18:46:39'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-gamepad"></i><span> Games</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/finddiffcolor/"><i class="fa-fw fas fa-puzzle-piece"></i><span> FindDiffColor</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-share-nodes"></i><span> Share</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/chishenme/"><i class="fa-fw fas fa-utensils"></i><span> What2Eat</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fas fa-music"></i><span> Songs</span></a></li><li><a class="site-page child" href="/reg_exp_visualize/"><i class="fa-fw fas fa-folder-open"></i><span> RegExpVisual</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-newspaper"></i><span> Posts</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/note-index/"><i class="fa-fw fas fa-note-sticky"></i><span> Notes</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://www.imageoss.com/images/2024/03/27/background86e3a6ceb1c5d968.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Vanadium的小屋"><span class="site-name">Vanadium的小屋</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-gamepad"></i><span> Games</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/finddiffcolor/"><i class="fa-fw fas fa-puzzle-piece"></i><span> FindDiffColor</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-share-nodes"></i><span> Share</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/chishenme/"><i class="fa-fw fas fa-utensils"></i><span> What2Eat</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fas fa-music"></i><span> Songs</span></a></li><li><a class="site-page child" href="/reg_exp_visualize/"><i class="fa-fw fas fa-folder-open"></i><span> RegExpVisual</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-newspaper"></i><span> Posts</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/note-index/"><i class="fa-fw fas fa-note-sticky"></i><span> Notes</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Vanadium的小屋</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/07/21/prototype-chain-pollution-vulnerability-in-js/" title="Javascript 中的原型链污染漏洞"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/29/u9652726292071240151fm253fmtautoapp120fJPEGcce8d06eb4942622.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Javascript 中的原型链污染漏洞"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/07/21/prototype-chain-pollution-vulnerability-in-js/" title="Javascript 中的原型链污染漏洞">Javascript 中的原型链污染漏洞</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-07-20T20:40:11.000Z" title="发表于 2024-07-21 04:40:11">2024-07-21</time></span></div><div class="content">
才不是为了 bonus 而写的呢
哎嘛, +15%, 真香

Javascript 中的对象
在 Javascript 的世界中, “万物皆是对象”, 同时, JS 的对象和一些其它语言 (如 C++, Python) 中的对象存在一定的差异…
当我们创建一个对象的时候, 我们实际上在讨论什么?
我们用三种语言分别创建一个 “空” 的对象
class Foo&#123;&#125;;int main()&#123;    Foo foo;&#125;
class Foo:    passfoo = Foo()
var foo = &#123;&#125;
对于 C++ 来说, 一个空的对象, 或许就是一个空的对象: 如果学习过一定时间的 C++, 就会知道这样方法创建的对象仅仅有构造函数和析构函数, 而且是默认的构造函数和析构函数
这样干净的对象, 基本不存在可以利用的漏洞 (指对象层面的漏洞, 与 C++ 其他底层的漏洞, 如内存溢出等无关)
Python 就不一样了, 一个空的对象, 实际上隐藏着许多内置方法


当然, 这些方法的存在肯定会导致漏洞, 例如 CTF 中的沙箱逃逸 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/07/16/civ-1/" title="文明 6 游戏机制"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/srchttp___c-ssl.duitang.com_uploads_blog_202010_06_20201006081139_2044e.pngreferhttp___c-ssl.duitanga1dc4e1e40ff1474.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="文明 6 游戏机制"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/07/16/civ-1/" title="文明 6 游戏机制">文明 6 游戏机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-07-15T22:31:04.000Z" title="发表于 2024-07-16 06:31:04">2024-07-16</time></span></div><div class="content">写在前面
搜集自网络, 部分经过测试
如无特殊说明, 所有数据均为标准速度 (500回合), 对应联机速度时要除以 2
公式
游戏进度相关
游戏进度 GP
定义变量 GP (Game Processing), 表示玩家的游戏的进度占全游戏流程的百分比, 是计算区域涨价, 项目涨价, 收割以及掠夺收益的前置系数
GP=max⁡{T,C}GP = \max\{T,C\} 
GP=max{T,C}
其中变量 T 表示玩家已经解锁的科技占科技树的比例, C 表示玩家已经解锁的市政占市政树的比例; GP 保留两位小数 (并非四舍五入, 而是舍弃小数点后第三位)
在文明 6 中, 科技树总量为 77, 市政树总量为 61
Eg 如果一个玩家解锁了 27 个科技和 23 个市政, 那么它的 GP 可以计算为
GP=max⁡{27/77,23/61}=max⁡{0.35,0.37}=0.37GP = \max\{27/77,23/61\}=\max\{0.35,0.37\}=0.37
GP=max{27/77,23/61}=max{0.35,0.37}=0.37
涨价系数
在文明 6 中, 区域和项目 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/24/sys1-lab/" title="Computer System I Lab project 实验报告"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/srchttp___c-ssl.duitang.com_uploads_blog_202011_10_20201110212403_62f28.pngreferhttp___c-ssl.duitanga11808921cabe140.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Computer System I Lab project 实验报告"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/24/sys1-lab/" title="Computer System I Lab project 实验报告">Computer System I Lab project 实验报告</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-24T13:01:50.046Z" title="发表于 2024-06-24 21:01:50">2024-06-24</time></span></div><div class="content">写在前面
不知道什么原因, 也可能是因为博主能力有限, 很少找到 ZJU 计算机系统课的资料笔记, 而且由于该课程的 TA 生产力过高 (赞美 TA), 实验部分常常是一年一换, 因此想找到适合学习的资料更为难上加难
比如去年的实验内容应该是以 RV32I 为板子写 CPU, 今年就变成了 RV64I, 同时很多细节都不一样 (怒)
再此留下一份单周期 CPU 的实验报告, 鉴于一些别的原因, 源码暂不开源, 权当抛砖引玉

数据通路设计
根据设计要求, 数据通路图如下

由于我们设计的是单周期 CPU, 除内存模块, 寄存器模块 Reg[] 和 PC 外, 均可按照组合电路的设计模式设计
Memory
根据数据通路图, 数据走线不可避免地要与内存交流, 因此首先要分析 Memory 接口的结构
由于设计的是单周期 CPU, 所有的操作一定可以在一个时钟周期内完成, 不需要考虑很多, 只需要保持和 Memory 的数据信道的常开即可
需要考虑的是发送 / 接受的读写数据包格式 RrequestBit, RreplyBit, WrequestBit, WreplyBit; 这些格式在之后 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/05/16/cpp-perfect-forwarding/" title="C++ | 完美转发"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/7308e5ac7bbd2f51fdf31298297a24d7487738c966f46b2d.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ | 完美转发"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/05/16/cpp-perfect-forwarding/" title="C++ | 完美转发">C++ | 完美转发</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-16T13:46:38.000Z" title="发表于 2024-05-16 21:46:38">2024-05-16</time></span></div><div class="content">
本文仍为草稿

万能引用
引入
在上一篇有关右值引用的文章的开头, 我们提到了 n 和 1 两个类型相同的表达式在某些地方表现的不同
除了在赋值语句中, 在重载函数调用推导的时候, 也会有不同的表现
考虑以下程序
void foo(int&amp; x)&#123;    std::cout &lt;&lt; &quot;int&amp; &quot; &lt;&lt; x &lt;&lt; std::endl;&#125;void foo(int&amp;&amp; x)&#123;    std::cout &lt;&lt; &quot;int&amp;&amp; &quot; &lt;&lt; x &lt;&lt; std::endl;&#125;int main()&#123;    int a = 5;    foo(a); // int&amp; 5    foo(1); // int&amp;&amp; 1&#125;
编译器符合预期的把作为左值的 a 和 1 分别推导到了符合的, 相对应的重载函数上去, 但是我们删去第二个 foo 所在的那一行代码
void foo( ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/05/13/riscv/" title="RISC-V 初探"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/29/930761130e27483829d252b2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RISC-V 初探"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/05/13/riscv/" title="RISC-V 初探">RISC-V 初探</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-13T12:47:34.000Z" title="发表于 2024-05-13 20:47:34">2024-05-13</time></span></div><div class="content">
由于 markdown 对汇编的支持不好，本文代码块部分借用 python 的高亮规则

简介
RISC-V 是一个开源的精简指令集架构（ISA），也是 ZJU 信息安全专业计算机系统课程（2023级）指定使用的 ISA
顺序，分支和循环结构函数
汇编语言和高级语言的很大一个不同就是：在编写汇编程序的时候和硬件层面的关联是很紧密的，所写的每一条指令实际上是对应着 CPU 的某个特定操作（虽然实验课是用 SPIKE 模拟的），写的时候你可能会有真的在操作硬件的感觉
下面通过实例程序给出一些常用的 RISC-V 指令

学习一门语言最好的办法是写代码而不是读文档

由于 C 语言是众多高级语言中较为接近汇编的一种，因此对于习惯了高级语言的学习者来说，先试着从 C 到 RISC-V 是一种不错的学习模式
long long acc(long long a, long long b)&#123;    long long i, res;    res = 0;    for(i = a; i &lt;= b; ++i)&#123;        res += i;    &#125;     ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/05/02/game-develop-cpp-plus/" title="Se:从零开始的C++游戏开发 | 日经记录贴"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/ff4a76e5c3076cf715ee34630721b8cb1ed39d4cbeb21304dfcb7d6c.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Se:从零开始的C++游戏开发 | 日经记录贴"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/05/02/game-develop-cpp-plus/" title="Se:从零开始的C++游戏开发 | 日经记录贴">Se:从零开始的C++游戏开发 | 日经记录贴</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-02T12:25:08.000Z" title="发表于 2024-05-02 20:25:08">2024-05-02</time></span></div><div class="content">
学习了那么那么多(其实也就一点点)的 C++ 和 OOP 的思想, 不来点有意思的实战有什么意思呢? 正巧最近在B站冲浪的时候刷到一个宝藏视频合集, 介绍了从零开始的C++游戏开发, 于是跃跃欲试…


前情提要: Re:从零开始的C++游戏开发 | 日经记录贴
视频链接: 从零开始的C++游戏开发
代码仓库: https://github.com/Z-Vanadium/Cpp-game-development
像素素材: https://anokolisa.itch.io/sidescroller-pixelart-sprites-asset-pack-forest-16x16

Day 8
在Re:从零开始的C++游戏开发中, 我们将所有代码都一股脑放在了main.cpp中, 即使通过封装和多态等方法加以组织, 依然在多次迭代后变成了史山. 所以, 我们首先要做的事情就是: 将这些内容分而治之
场景设计
为了将游戏内容分而治之, 我们需要将不同阶段的代码封装在不同的类中, 再把不同的类分布在不同的文件中, 以达到井然有序的文件组织结构.
上面所说的&quot;不同阶段&quot; ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/05/01/cpp-callback-func/" title="C++ | 回调函数"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/29/iqi0ztd5mawiqi0ztd5mawfe4e619f75f5642a.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ | 回调函数"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/05/01/cpp-callback-func/" title="C++ | 回调函数">C++ | 回调函数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-05-01T13:49:08.000Z" title="发表于 2024-05-01 21:49:08">2024-05-01</time></span></div><div class="content">定义
回调函数(callback function) 被定义为&quot;作为参数传递的函数&quot;, 或者用更加接地气的方式描述:

将函数 A 作为参数传递给函数 B, B 在执行的某一刻调用 A, 此时称 A 为回调函数

作用

回调提供了一种灵活的方式来扩展或自定义函数的行为, 需要在某些特定的时刻执行特定的动作, 但这些动作可能因情境而异. 通过使用回调, 可以允许其他代码决定何时以及如何响应

简单来说, 回调函数保证了调用者对被调用者的控制权, 是一种灵活的函数调用方式
应用场景

事件驱动
以 GUI 为例, 假如我们需要实现诸如&quot;用户用鼠标点击按钮, 程序作出响应&quot;的功能, &quot;响应&quot;就可以作为回调函数传递给按钮类
计时器
考虑需求&quot;每 1min 执行函数一次&quot;, 我们可以先定义计时器类, 再将函数作为回调函数传递给计时器的实例化, 避免了我们只能通过继承的方式创建大量无用的计时器类的子类
错误处理

实现
作为一种机制, 回调函数在很多语言中都有实现方法
C
在 C 中一般使用函数指针实现回调函数, 考 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/04/14/game-develop-cpp/" title="Re:从零开始的C++游戏开发 | 日经记录贴"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/29/u366523989218016479fm173app49fJPEG758d1cb63645a5df.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Re:从零开始的C++游戏开发 | 日经记录贴"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/14/game-develop-cpp/" title="Re:从零开始的C++游戏开发 | 日经记录贴">Re:从零开始的C++游戏开发 | 日经记录贴</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-14T09:42:33.000Z" title="发表于 2024-04-14 17:42:33">2024-04-14</time></span></div><div class="content">
学习了那么那么多(其实也就一点点)的 C++ 和 OOP 的思想, 不来点有意思的实战有什么意思呢? 正巧最近在B站冲浪的时候刷到一个宝藏视频合集, 介绍了从零开始的C++游戏开发, 于是跃跃欲试…


视频链接: 从零开始的C++游戏开发
代码仓库: https://github.com/Z-Vanadium/Cpp-game-development
版本发布:

V1.0: https://vanadium.lanzoum.com/iQQVy1w15k8d 密码:6gji


Day 1
环境搭建

VSCode + OpenGL 太难配置了, 浪费一个下午, 最终决定用懒人 IDE – VS, VS 赛高!!!

IDE: Visual Studio Community 2022
图形库: EasyX
位图编辑: Picxel Studio
VS
安装时仅需勾选&quot;使用C++的桌面开发&quot;
EasyX
安装最新版本, 打开后为自己将要使用的 VS C++ 安装 EasyX
环境测试
打开 VS, 创建空 C++ 项目命名为 demo, 新建 main.cpp,  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/04/12/fds-sorts/" title="FDS | 常见排序算法实现 C 语言版"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/u4112399949772045700fm253fmtautoapp138fJPEG44159c9564bc0bb8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FDS | 常见排序算法实现 C 语言版"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/12/fds-sorts/" title="FDS | 常见排序算法实现 C 语言版">FDS | 常见排序算法实现 C 语言版</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-12T08:42:16.000Z" title="发表于 2024-04-12 16:42:16">2024-04-12</time></span></div><div class="content">无聊写了下 C 语言实现的各种排序算法
预处理
由于 C 语言没有多态, 只考虑对某个类型排序, 以 int 类型为例子
#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#define ElemType int
辅助函数
定义谓词函数和交换函数
// 表示第一个参数大于第二个参数int greater(const ElemType* x, const ElemType* y)&#123;    return *x &gt; *y;&#125;// 表示第一个参数小于第二个参数int less(const ElemType* x, const ElemType* y)&#123;    return greater(y, x);&#125;void swap(ElemType* x, ElemType* y)&#123;    ElemType tmp;    tmp = *x, *x = *y, *y = tmp;&#125;
函数接口
统一接口格式如下
void sort(ElemType* base, size_t n, int (*p ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/04/06/cpp-fmt-and-print-lib/" title="C++ | Formatting &amp; Print Library"><img class="post-bg" src="https://www.imageoss.com/images/2024/03/28/u457692666706638556fm253fmtautoapp120fJPEG5366d0caa33e706a.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++ | Formatting &amp; Print Library"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/04/06/cpp-fmt-and-print-lib/" title="C++ | Formatting &amp; Print Library">C++ | Formatting &amp; Print Library</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-04-06T09:42:33.000Z" title="发表于 2024-04-06 17:42:33">2024-04-06</time></span></div><div class="content">
本文仍为草稿

原文地址: https://hackingcpp.com/cpp/libs/fmt.html
前言
Formatting &amp; Print 库(fmt库)是一个可以高效且安全地将 C 标准输入输出库转化为 C++ 输入输出流的现代 C++ 库(C++20 出现, C++23 加入标准库)
相比之前废拉不堪的输入输出函数, Formatting &amp; Print 库有如下特性:

更快
更便捷
类型安全

由于目前大多数编译器并没有实现对 C++23 中 print 库的支持, 我们依然使用 C++20 的 fmt 库演示格式化与输出操作

PTA 的 C++ 编译器为 gcc 11.4.0, 只支持到 C++17, 所以在 PTA 平台上用不了这么好用的东西

 
前期准备
由于 fmt 库不存在于 C++20 的标准库中, 所以我们要手动引入
VSCode with mingw


首先, 删除.vscode配置文件, 在 IDE 界面按下 F5 查看 VSCode 使用的编译器的路径



在任意空文件夹下运行下面的 git 命令获取 fmt 库
 g ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://www.imageoss.com/images/2024/03/27/avatar84f10990023d148a.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Vanadium</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Z-Vanadium"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Welcome to Vanadium's Blog!<br>
ZJUer | Freshman | IS | 术力口 | 摸鱼
</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/3939/03/09/bulletin-board/" title="Vanadium的小屋御用公告板">Vanadium的小屋御用公告板</a><time datetime="3939-03-08T19:09:39.000Z" title="发表于 3939-03-09 03:09:39">3939-03-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/19/mmx-mid-report/" title="数据安全与密码学基础期中学习报告">数据安全与密码学基础期中学习报告</a><time datetime="2024-11-19T10:40:59.000Z" title="发表于 2024-11-19 18:40:59">2024-11-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/14/asd-midterm/" title="ADS 期中补天笔记">ADS 期中补天笔记</a><time datetime="2024-11-14T05:06:20.213Z" title="发表于 2024-11-14 13:06:20">2024-11-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/11/09/organic-chem-note/" title="有机化学补天笔记">有机化学补天笔记</a><time datetime="2024-11-09T13:25:40.000Z" title="发表于 2024-11-09 21:25:40">2024-11-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/12/ads-index/" title="高级数据结构与算法分析">高级数据结构与算法分析</a><time datetime="2024-09-11T16:00:00.000Z" title="发表于 2024-09-12 00:00:00">2024-09-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/12/crypto-index/" title="数据安全与密码学基础">数据安全与密码学基础</a><time datetime="2024-09-11T16:00:00.000Z" title="发表于 2024-09-12 00:00:00">2024-09-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/12/oop/" title="面向对象程序设计">面向对象程序设计</a><time datetime="2024-09-11T16:00:00.000Z" title="发表于 2024-09-12 00:00:00">2024-09-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/08/civ6-mod-make-3/" title="文明 6 mod 制作学习笔记 (3) 新的文明">文明 6 mod 制作学习笔记 (3) 新的文明</a><time datetime="2024-08-08T06:33:11.653Z" title="发表于 2024-08-08 14:33:11">2024-08-08</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/07/civ6-mod-make-2/" title="文明 6 mod 制作学习笔记 (2) 新的单位">文明 6 mod 制作学习笔记 (2) 新的单位</a><time datetime="2024-08-07T08:58:59.037Z" title="发表于 2024-08-07 16:58:59">2024-08-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/07/civ6-mod-make-1/" title="文明 6 mod 制作学习笔记 (1) 从水下第一个 mod 开始">文明 6 mod 制作学习笔记 (1) 从水下第一个 mod 开始</a><time datetime="2024-08-07T07:48:33.537Z" title="发表于 2024-08-07 15:48:33">2024-08-07</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%B8%B8%E6%88%8F/"><span class="card-category-list-name">游戏</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">笔记</span><span class="card-category-list-count">11</span></a></li>
            </ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">45</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2023-09-25T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">117.7k</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-11-19T10:46:38.900Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By Vanadium</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body></html>